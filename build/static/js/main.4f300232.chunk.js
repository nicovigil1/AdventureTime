(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,n){t.exports=n(21)},17:function(t,e,n){},18:function(t,e,n){},21:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(8),c=n.n(r),i=(n(17),n(1)),s=n(2),l=n(4),u=n(3),h=n(5),p=(n(18),function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(u.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:m},"Welcome to AdventureTime")}}]),e}(o.a.Component)),m={display:"flex",backgroundColor:"#63b4f4",justifyContent:"center",color:"black",paddingTop:".5em",paddingBottom:".5em",boxShadow:"0px 0px 10px 5px #000"},g=function(t){function e(){var t,n;Object(i.a)(this,e);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(l.a)(this,(t=Object(u.a)(e)).call.apply(t,[this].concat(o)))).getLogin=function(){var t=document.querySelector("#textBox").value,e="https://adventure-time-m4cap.herokuapp.com/api/v1/login?username=".concat(t);fetch(e,{method:"POST"}).then(function(t){return t.json()}).then(function(t){return n.props.getUser(t.Value)}).then(n.props.display).catch(function(t){return console.log(t)})},n.postLocation=function(t){console.log(t)},n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:d},o.a.createElement("p",null,"Sign in Below!"),o.a.createElement("input",{id:"textBox",type:"text"}),o.a.createElement("button",{onClick:this.getLogin,style:f},"Login"))}}]),e}(o.a.Component),d={display:"flex",flexDirection:"column",textAlign:"center",padding:"2em",background:"rgba(206, 215, 219, 0.96)",borderRadius:"1em"},f={marginTop:".4em",marginLeft:"2em",marginRight:"2em"},y=n(6),b=n.n(y),v=n(9),k=n(10),E=n.n(k),j=function(t){function e(t){var n;return Object(i.a)(this,e),(n=Object(l.a)(this,Object(u.a)(e).call(this,t))).parseLocation=function(t){return t.split("|")[1].split(",")[0]},n.getCurrentQuest=function(){var t=n.props.quest;console.log(n.props.quest.current_location),1===t.current_location?n.setState({currentLocation:n.parseLocation(t.location_1)}):2===t.current_location?n.setState({currentLocation:n.parseLocation(t.location_2)}):3===t.current_location&&n.setState({currentLocation:n.parseLocation(t.location_3)}),console.log(n.state.currentLocation)},n.goBack=function(){n.props.goBack({loginDisplay:!0})},n.state={currentLocation:null},n}return Object(h.a)(e,t),Object(s.a)(e,[{key:"componentDidMount",value:function(){this.getCurrentQuest()}},{key:"render",value:function(){return o.a.createElement("div",{style:S},o.a.createElement("button",{onClick:this.goBack},"Go back"),o.a.createElement("h1",null,"Next location:"),o.a.createElement("a",{href:"https://maps.google.com/?q="+this.state.currentLocation},this.state.currentLocation))}}]),e}(o.a.Component),S={display:"flex",flexDirection:"column"},x=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).postLocation=function(){navigator.geolocation.getCurrentPosition(function(){var e=Object(v.a)(b.a.mark(function e(n){var a,o,r,c;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.coords.latitude,o=n.coords.longitude,e.next=4,fetch("https://adventure-time-m4cap.herokuapp.com/api/v1/quest?user_id=".concat(t.props.currentUser.ID,"&lat=").concat(a,"&long=").concat(o),{method:"POST"});case 4:return r=e.sent,e.next=7,r.json();case 7:c=e.sent,t.setState({currentQuest:c}),t.setState({displayNextLocation:!t.state.displayNextLocation});case 10:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},t.checkin=function(){navigator.geolocation.getCurrentPosition(function(e){t.setState({currentLocation:e}),fetch("https://adventure-time-m4cap.herokuapp.com/api/v1/checkin?user_id=".concat(t.props.currentUser.ID,"&lat=39.7526897&long=-104.9962246"),{method:"POST"}).then(function(t){return t.json()}).then(function(e){e.success?(console.log("success"),t.props.setTheState({playerHealth:t.props.currentUser.current_hp}),t.props.setTheState({fight:!0})):alert("You're not quite there!")})})},t.goBack=function(e){t.props.setTheState(e)},t.state={displayNextLocation:!1,currentQuest:{},fight:!1},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:O},o.a.createElement("div",{style:C},o.a.createElement(E.a,{id:"player",style:L,image:"https://i.ibb.co/Kjd23z4/adventurer-1-3-Sheet.png",widthFrame:50,heightFrame:37,steps:60,fps:7,autoplay:!0,loop:!0})),o.a.createElement("h1",null,"Hello ",this.props.currentUser.username,"!"),o.a.createElement("div",null,o.a.createElement("p",null,"Your Stats"),o.a.createElement("div",null),o.a.createElement("ul",null,o.a.createElement("li",null,"Health: ",this.props.currentUser.current_hp),o.a.createElement("li",null,"XP: ",this.props.currentUser.current_xp)),!this.state.displayNextLocation&&o.a.createElement("div",{style:C},o.a.createElement("button",{onClick:this.postLocation},"Quest Info"),o.a.createElement("br",null),o.a.createElement("button",{onClick:this.checkin},"Check In"))),o.a.createElement("div",null,this.state.displayNextLocation&&o.a.createElement(j,{quest:this.state.currentQuest,goBack:this.goBack})))}}]),e}(o.a.Component),O={background:"rgba(206, 215, 219, 0.96)",padding:"1em",borderRadius:"1em"},L={height:"100px",width:"135px"},C={display:"flex",justifyContent:"center"},w=function(t){function e(){var t;return Object(i.a)(this,e),(t=Object(l.a)(this,Object(u.a)(e).call(this))).toggleLoginDisplay=function(){t.setState({loginDisplay:!t.state.loginDisplay})},t.getCurrentUser=function(e){t.setState({currentUser:e})},t.setTheState=function(e){t.setState(e)},t.attackEnemy=function(){var e=Math.floor(10*Math.random());t.state.enemyHealth>0&&(t.setState({enemyHealth:t.state.enemyHealth-2}),e<4&&t.setState({playerHealth:t.state.playerHealth-2})),t.checkFightStatus()},t.checkFightStatus=function(){t.state.enemyHealth<=2?fetch("https://adventure-time-m4cap.herokuapp.com/api/v1/encounter?success=true&user_id=".concat(t.state.currentUser.ID),{method:"POST"}).then(function(t){return t.json()}).then(function(e){return t.setState({questComplete:e.quest_complete})}).then(function(e){t.setState({enemyHealth:10}),t.setState({fight:!1}),t.checkQuestCompletion()}):t.state.playerHealth<=2&&(fetch("https://adventure-time-m4cap.herokuapp.com/api/v1/encounter?success=false&user_id=".concat(t.state.currentUser.ID),{method:"POST"}).then(function(t){return t.json()}).then(t.setState({fight:!1})),alert("you do not know de wey"))},t.checkQuestCompletion=function(){t.state.questComplete?alert("congrats, you won the quest!"):alert("you won the battle, but not the war")},t.state={loginInfo:[],loginDisplay:!0,currentUser:null,currentQuest:null,fight:!1,enemyHealth:10},t}return Object(h.a)(e,t),Object(s.a)(e,[{key:"render",value:function(){return o.a.createElement("div",{style:U},o.a.createElement(p,null),o.a.createElement("div",{style:H},!this.state.fight&&this.state.loginDisplay&&o.a.createElement(g,{display:this.toggleLoginDisplay,getUser:this.getCurrentUser}),!this.state.fight&&!this.state.loginDisplay&&o.a.createElement(x,{currentUser:this.state.currentUser,location:this.state.currentLocation,setTheState:this.setTheState}),this.state.fight&&o.a.createElement("div",{style:D},o.a.createElement("button",{onClick:this.attackEnemy},"Attack"),o.a.createElement("p",null,"Your Health: ",this.state.playerHealth),o.a.createElement("p",null,"Enemy Health: ",this.state.enemyHealth))))}}]),e}(a.Component),H={display:"flex",justifyContent:"center",alignItems:"center",height:"80%"},U={height:"100vh",backgroundImage:"url('https://i.pinimg.com/originals/f3/64/b7/f364b7d0a49566891789d291b8b2e53f.png')",backgroundSize:"cover",imageRendering:"pixelated"},D={position:"absolute",marginLeft:"auto",marginRight:"auto",background:"rgba(206, 215, 219, 0.96)",padding:"3em",borderRadius:"1em"},_=w;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.4f300232.chunk.js.map